[
  {
    "objectID": "demo.html",
    "href": "demo.html",
    "title": "Demo of Structured Data in ellmer",
    "section": "",
    "text": "This short document demonstrates the structured data (aka structured output) feature of LLMs using the ellmer R package. Structured output refers to the scenario where models can be instructed to respond with a particular output structure. To read more about structured outputs, take a look at LangChain’s article on Structured outputs.\nThis demo will use Open AI’s gpt-4.1 model using my personal API key, since the Integral’s Azure private OpenAI model gpt-4.0 doesn’t support PDFs as a file content type.\n\nlibrary(ellmer)\nchat &lt;- chat_openai()\n# Using model = \"gpt-4.1\"."
  },
  {
    "objectID": "demo.html#introduction",
    "href": "demo.html#introduction",
    "title": "Demo of Structured Data in ellmer",
    "section": "",
    "text": "This short document demonstrates the structured data (aka structured output) feature of LLMs using the ellmer R package. Structured output refers to the scenario where models can be instructed to respond with a particular output structure. To read more about structured outputs, take a look at LangChain’s article on Structured outputs.\nThis demo will use Open AI’s gpt-4.1 model using my personal API key, since the Integral’s Azure private OpenAI model gpt-4.0 doesn’t support PDFs as a file content type.\n\nlibrary(ellmer)\nchat &lt;- chat_openai()\n# Using model = \"gpt-4.1\"."
  },
  {
    "objectID": "demo.html#basics",
    "href": "demo.html#basics",
    "title": "Demo of Structured Data in ellmer",
    "section": "Basics",
    "text": "Basics\nIn this example, we give the model a sentence and request that it extract structured information by defining a type specification that includes the name (string), job (string), and company (string):\n\nchat$chat_structured(\n  \"My name is Howard and I'm a data/solution engineer at Integral Consulting Inc.\",\n  type = type_object(\n    name = type_string(),\n    job = type_string(),\n    company = type_string()\n  )\n)\n# $name\n# [1] \"Howard\"\n\n# $job\n# [1] \"Data/Solution Engineer\"\n\n# $company\n# [1] \"Integral Consulting Inc.\""
  },
  {
    "objectID": "demo.html#article-summarization",
    "href": "demo.html#article-summarization",
    "title": "Demo of Structured Data in ellmer",
    "section": "Article Summarization",
    "text": "Article Summarization\nIn this example, we provide the model with a PDF case document on the 3M Security Litigation Case.\n\npdf &lt;- content_pdf_url(\n  \"https://ia903408.us.archive.org/30/items/gov.uscourts.mnd.191222/gov.uscourts.mnd.191222.108.0.pdf\"\n)\n\ntype_summary &lt;- type_object(\n  \"Summary of the litigation case document.\",\n  case_number = type_string(\"Case number\"),\n  plaintiff = type_string(\"Name of Plaintiff\"),\n  defendant = type_string(\"Name of defendant\"),\n  result = type_string(\"Whether the Court grants the motion or not\"),\n  summary = type_string(\n    \"Summary of the case document. One or two paragraphs max\"\n  )\n)\n\nchat$chat_structured(\n  pdf,\n  type = type_summary\n)\n# $case_number\n# [1] \"20‐CV‐2488 (NEB/KMM)\"\n\n# $plaintiff\n# [1] \"A putative class of purchasers of 3M common stock (Plaintiffs)\"\n\n# $defendant\n# [1] \"3M Company and certain chief executives (Defendants)\"\n\n# $result\n# [1] \"The Court grants the motion to dismiss. The Complaint is dismissed.\"\n\n# $summary\n# [1] \"This case involved a securities litigation against 3M Company and certain executives, alleging violations of Sections 10(b) and 20(a) of the Securities Exchange Act of 1934 and SEC Rule 10b‐5. Plaintiffs claimed that 3M materially understated its potential legal and financial exposure related to PFAS liabilities in its public disclosures and financial statements. The Court found that Plaintiffs failed to meet the heightened pleading requirements of the Private Securities Litigation Reform Act (PSLRA), specifically failing to plausibly allege that 3M's statements were false or misleading or that the defendants acted with the required scienter (intent or recklessness). The Court held that 3M’s disclosures about PFAS-related liabilities complied with relevant accounting standards (ASC 450), and there were no sufficient factual allegations showing the defendants knew their statements were false when made. As a result, the Court granted the defendants' motion to dismiss and dismissed the Complaint.\"\n\nThis is accurate. Based on a review of the case document:\n\nThe case is Case No. 20‐CV‐2488 (NEB/KMM) (Page 1)\nThe plaintiff is putative class of purchasers of 3M common stock between February 9, 2017, and July 8, 2019 (“Class Period”) (Page 17)\nThe defendant is 3M Company and certain of its chief executives (Page 1)\nThe result is the Court grants the motion (Page 1)\n\n\nYou also have the option to omit the type specification entirely and simply request a summary:\n\nchat$chat(\n  \"I've uploaded a litigation case document. Summarise the first three pages of the case.\",\n  pdf\n)\n\nHere is a summary of the first three pages of the litigation document In re 3M Company Securities Litigation (Case No.  20-CV-2488 (NEB/KMM)):\n\n\nCase Overview & Initiating Motion\n\nPlaintiffs’ Allegations:\nPlaintiffs claim that 3M Company and some of its senior executives violated Sections 10(b) and 20(a) of the Securities Exchange Act of 1934, along with SEC Rule 10b-5. The alleged violation centers on 3M materially understating its potential legal and financial liabilities arising from its historic manufacture, distribution, and disposal of PFAS (per- and polyfluoroalkyl substances).\nDefendants’ Response:\nThe defendants filed a motion to dismiss the complaint, arguing that the plaintiffs fail to meet the heightened pleading standards set by the Private Securities Litigation Reform Act (PSLRA).\nCourt’s Decision (First Three Pages):\nThe court summarizes the background and states that, for the reasons to follow, the motion to dismiss is granted.\n\n\n\nKey Factual Allegations (Pages 1-3)\n\nBackground on PFAS and 3M’s Activities\n\nPFAS are synthetic compounds developed by 3M starting in the 1940s, used in various commercial and industrial products (e.g., firefighting foams).\n3M produced PFAS in several U.S. and foreign facilities. The company allegedly disposed of PFAS waste into public waterways and unlined dumps, leading to widespread contamination.\nHistorical Knowledge (Alleged):\n\nSince the 1950s, 3M allegedly knew about PFAS toxicity through internal studies and documents, but continued public sales for decades.\nWarnings about toxicity to humans and environmental risks go back decades, with studies in the 1950s (toxicity to animals and humans), 1960s (pollution of drinking sources), and 1970s (toxicity to fish and food supply). Internal investigations and recommendations to reduce worker exposures were also conducted.\n\n1998 Onward:\n\n3M shared data with the EPA. Internal scientists identified PFAS as more dangerous than PCBs and a strong cancer promoter.\nIn 2019, a 3M executive publicly acknowledged decades-long studies into PFAS impacts.\n2000-2008: 3M began and completed phasing out PFAS production.\n\n\n\n\nLitigation and Disclosure Issues\n\nEPA and Regulators:\n\nIn 2016, the EPA raised PFAS safety standards, broadening 3M’s exposure. Some states (New Jersey, Minnesota) imposed stricter standards.\nOther companies (e.g., DuPont) faced massive PFAS settlements ($671 million in 2017).\n\nMinnesota Attorney General Lawsuit:\n\nIn 2010, a state lawsuit accused 3M of deliberate disregard for the environmental and health risks. This is known as the AG Litigation.\n\n3M’s Financial Disclosures:\n\nThe claims against 3M focus not on the underlying environmental litigation, but on whether 3M committed securities fraud in its disclosures.\nIn 2016-2017, 3M’s regulatory filings disclosed the ongoing lawsuits but stated that any potential liability was “not probable and estimable,” so no specific losses were recognized.\n\n2017 Form 10-K:\n\nFiled just before the Minnesota AG case was set for trial, 3M disclosed that the state claimed $5 billion in damages but continued to maintain legal defenses and did not record a liability as “not probable and estimable.”\n\n\n\nSummary:\nThe opening of the court document lays out the nature of the securities litigation—allegations that 3M misled investors regarding the magnitude and likelihood of its PFAS-related liabilities, despite internal knowledge of the risks and external regulatory/litigation developments. The summary includes 3M’s historical involvement with PFAS, early knowledge of dangers, governmental action, and the specifics of how 3M reported legal risks and pending litigation in its financial filings.\nIf you need more detailed breakdowns or specific legal arguments as presented on further pages, please let me know!"
  }
]